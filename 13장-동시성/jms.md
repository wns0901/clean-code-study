# 클린 코드 13장: 동시성


## 1) 동시성의 목적은 구조 분리
- 동시성은 성능 향상이 아니라, **응답성과 책임 분리를 위한 구조적 선택**이다.
- 병렬 처리보다 먼저 고려할 건 **비동기적 책임 분리**임.

---

## 2) 동시성 코드가 어려운 이유
- 단일 스레드보다 훨씬 **테스트와 디버깅이 어렵고, 재현도 힘듦**
- 스레드 간 공유 상태, 순서, 경합 조건(race condition) 같은 문제가 발생할 수 있음

---

## 3) 깨끗한 동시성 코드를 위한 전략

###  독립적인 스레드로 작업 분리
- 공유 자원 없이 동작하도록 만든다면 동기화가 필요 없음

###  공유 자원 최소화
- 가능하면 불변 객체 사용
- `ThreadLocal`, `BlockingQueue` 등의 동시성 도구를 활용하자

###  스레드 동기화는 캡슐화
- 락이나 동기화 로직은 객체 내부에서 처리해야 외부에 영향이 없음

###  동시성은 테스트부터 어렵다
- **단위 테스트만으로는 충분하지 않다**
- 동시성을 고려한 **시스템 테스트, 스트레스 테스트**도 필요함

